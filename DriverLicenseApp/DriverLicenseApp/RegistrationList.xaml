<Window x:Class="DriverLicenseApp.RegistrationList"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Registration List" Height="560" Width="800" ResizeMode="NoResize" WindowStartupLocation="CenterScreen"
        Background="AliceBlue">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Button Close -->
        <Button Content="Close" Width="70" Height="25" HorizontalAlignment="Right" Margin="0,0,10,0"
                Background="Tomato" Foreground="White" Click="btnClose_Click"/>

        <!-- Tên khóa học -->
        <TextBlock x:Name="txtCourseName" FontSize="20" FontWeight="Bold" Foreground="DarkBlue"
                   HorizontalAlignment="Center" Margin="0,0,0,10" Grid.Row="0"/>

        <!-- Bộ lọc trạng thái -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,10" Grid.Row="1">
            <TextBlock Text="Filter by Status:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="cbStatusFilter" Width="150">
                <ComboBoxItem Content="All"/>
                <ComboBoxItem Content="Pending" IsSelected="True"/>
                <ComboBoxItem Content="Approved"/>
                <ComboBoxItem Content="Rejected"/>
            </ComboBox>
            <Button Margin="10 0 0 0" Width="50" x:Name="btnFilter" Click="btnFilter_Click">Filter</Button>
        </StackPanel>

        <!-- Danh sách đăng ký -->
        <DataGrid x:Name="dgRegistrations" AutoGenerateColumns="False" IsReadOnly="True"
                  Grid.Row="2" Height="380" Background="White" BorderBrush="Gray" BorderThickness="1"
                  SelectionChanged="dgRegistrations_SelectionChanged">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Registration ID" Binding="{Binding RegistrationId}" Width="100"/>
                <DataGridTextColumn Header="Student Name" Binding="{Binding User.FullName}" Width="200"/>
                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                <DataGridTextColumn Header="Comments" Binding="{Binding Comments}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Form chỉnh sửa trạng thái -->
        <Border Grid.Row="3" Margin="0,10,0,0" Padding="10" Background="White" CornerRadius="10"
                BorderBrush="LightGray" BorderThickness="1" Width="400" HorizontalAlignment="Center">
            <StackPanel>
                <TextBlock Text="Update Status" FontSize="14" FontWeight="Bold"
                           Foreground="DarkBlue" HorizontalAlignment="Center" Margin="0,0,0,8"/>

                <!-- Hàng Student Name + Status -->
                <StackPanel Orientation="Horizontal" Margin="0,3,0,0">
                    <StackPanel Width="185">
                        <TextBlock Text="Student Name:" FontWeight="SemiBold" Margin="0,0,0,3"/>
                        <TextBox x:Name="txtStudent" IsReadOnly="True" Height="22"/>
                    </StackPanel>

                    <StackPanel Width="185" Margin="10,0,0,0">
                        <TextBlock Text="Status:" FontWeight="SemiBold" Margin="0,0,0,3"/>
                        <ComboBox x:Name="cbStatus">
                            <ComboBoxItem Content="Pending"/>
                            <ComboBoxItem Content="Approved"/>
                            <ComboBoxItem Content="Rejected"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>

                <!-- Hàng Comments -->
                <StackPanel Orientation="Vertical" Margin="0,8,0,0">
                    <TextBlock Text="Comments:" FontWeight="SemiBold" Margin="0,0,0,3"/>
                    <TextBox x:Name="txtComments" Height="50" TextWrapping="Wrap" AcceptsReturn="True"/>
                </StackPanel>

                <!-- Button Update -->
                <Button x:Name="btnSubmit" Content="Update" Width="100" Margin="0,10,0,0" Background="SteelBlue"
                        Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" Click="btnSubmit_Click"/>
            </StackPanel>
        </Border>

    </Grid>
</Window>
